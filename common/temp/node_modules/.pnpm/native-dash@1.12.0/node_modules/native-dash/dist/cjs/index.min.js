"use strict";function e(e){if("string"!=typeof e)throw new Error(`Failed to capitalize "${e}" as it was not of type "string" [${typeof e}]`);return e.slice(0,1).toUpperCase()+e.slice(1)}function t(t,r=!1){const[n,s,o,i]=/^(\s*)(.*?)(\s*)$/.exec(t);return`${r?s:""}${e((e=>e.replace(/[-_]$/s,""))((e=>e.replace(/^[-_]/s,""))((e=>e.replace(/[ |_|-]+([0-9]*?[a-z|A-Z]{1})/gs,((e,t)=>t.toUpperCase())))((a=o,a.replace(/^[_|-]*?([0-9]*?[a-z]{1})/gs,((e,t)=>t.toUpperCase())))))))}${r?i:""}`;var a}function r(){return(65536*(1+Math.random())|0).toString(16).substring(1)}function n(e=!0){return e?r()+r()+"-"+r()+"-"+r()+"-"+r()+"-"+r()+r()+r():r()+r()+r()+r()+r()+r()+r()+r()}Object.defineProperty(exports,"__esModule",{value:!0});const s=[[/(us)$/,e=>`${e.replace(/us$/,"")}i`,["bus","us"]],[/(is)$/,(e,t)=>`${e.replace(t,"")}es`],[/(s|sh|ch|x|z|o)$/,e=>`${e}es`],[/fe{0,1}$/,(e,t)=>`${e.replace(t,"")}ves`],[/[b|c|d|f|g|h|j|k|l|m|n|p|q|r|s|t|v|w|x|z|y]y$/,e=>`${e.slice(0,e.length-1)}ies`]];var o,i;!function(e){e[e.regex=0]="regex",e[e.fn=1]="fn",e[e.exceptions=2]="exceptions"}(o||(o={})),function(e){e[e.singular=0]="singular",e[e.plural=1]="plural"}(i||(i={}));const a={black:[30,40],red:[31,41],magenta:[35,45],yellow:[33,43],green:[32,42],brightRed:[91,40],brightGreen:[92,42],brightYellow:[93,43]};function c(e="",t,r){const n="["+t(a)[0]+"m",s=r?r(a)[1]:null,o=s?"["+s+"m":"";return`[39m${n}${o}${e}${o?"[39m[49m":"[39m"}`}const u={red:(e="",t)=>c(e,(e=>e.red),t),magenta:(e="",t)=>c(e,(e=>e.magenta),t),black:(e="",t)=>c(e,(e=>e.black),t),yellow:(e="",t)=>c(e,(e=>e.yellow),t),green:(e="",t)=>c(e,(e=>e.green),t),brightRed:(e="",t)=>c(e,(e=>e.brightRed),t)};exports.atRandom=function(e,t=[]){return(e=e.filter((e=>"function"==typeof t?t(e):!t.includes(e))))[Math.floor(Math.random()*e.length)]},exports.between=function(e,t){const r=Math.abs(t-e)+1;return e+Math.floor(Math.random()*r)},exports.camelize=function(e,r=!1){const n=t(e,r),[s,o,i,a]=/^(\s*)(.*?)(\s*)$/.exec(n);return(r?o:"")+i.replace(/^.*?([0-9]*?[a-z|A-Z]{1})/s,((e,t)=>t.toLowerCase()))+(r?a:"")},exports.capitalize=e,exports.color=u,exports.dasherize=function(e){const[t,r,n,s]=/^(\s*)(.*?)(\s*)$/.exec(e);return`${r}${(e=>e.replace(/_/g,"-"))((e=>e.replace(/-$/s,""))((e=>e.replace(/^-/s,""))((e=>e.replace(/-+/g,"-"))((e=>e.replace(/\s/gs,"-"))((o=n,o.replace(/[A-Z]/g,(e=>`-${e[0].toLowerCase()}`))))))))}${s}`;var o},exports.deserialize=function(e){return e.split("\n").map((e=>JSON.parse(e)))},exports.first=function(e){return e.slice(0,1)},exports.firstKey=function(e){return Object.keys(e).slice(0,1).pop()},exports.flatten=function(e){return e.flat?e.flat():e.reduce(((e,t)=>e.concat(t)),[])},exports.fromBase64=function(e,t=!1){const r=Buffer.from(e,"base64");return t?JSON.parse(r.toString("utf-8")):r.toString("utf-8")},exports.get=function(e,t,r){const n=t.split(".");let s=e;return n.forEach((e=>{s="object"==typeof s&&Object.keys(s).includes(e)?s[e]:void 0})),s||r},exports.guid=function(){return n()},exports.hash=function(e){let t,r,n=0;for(t=0;t<e.length;t++)r=e.charCodeAt(t),n=(n<<5)-n+r,n|=0;return n},exports.isLeapYear=function(e){const t="number"==typeof e?e:e.getFullYear();return 29===new Date(t,1,29).getDate()},exports.isUuid=function(e,t){const r=/^(\{{0,1}([0-9a-fA-F]){8}-([0-9a-fA-F]){4}-([0-9a-fA-F]){4}-([0-9a-fA-F]){4}-([0-9a-fA-F]){12}\}{0,1})$/;return!0===t&&/^(\{{0,1}([0-9a-fA-F]){32}\}{0,1})$/.test(e)||r.test(e)},exports.italicize=function(e=""){return`[3m${e}[0m`},exports.last=function(e){return e.slice(-1)},exports.lastKey=function(e){return Object.keys(e).slice(-1).pop()},exports.omit=function(e,...t){const r=t;return Object.fromEntries(Object.entries(e).filter((([e])=>!r.includes(e))))},exports.pascalize=t,exports.pathJoin=function(...e){const t=e[0]&&(e[0].startsWith("/")||e[0].startsWith("\\")),r=e.filter((e=>e)).map((e=>function(e){return e=(e=e.startsWith("/")?e.slice(1):e).endsWith("/")?e.slice(0,e.length-1):e}(e.replace(/\\/gs,"/"))));if(r.slice(1).some((e=>e.includes(".."))))throw new Error(`pathJoin() only accepts the ".." notation at the beginning of the first string and no where else. Input was invalid: ${JSON.stringify(e)}`);return`${t?"/":""}${r.join("/")}`},exports.pluralize=function(e,t={}){if(""===e){if(t.ignoreEmptyStrings)return"";throw new Error("Attempt to pluralize an empty string")}const r={photo:"photos",piano:"pianos",halo:"halos",foot:"feet",man:"men",woman:"women",person:"people",mouse:"mice",series:"series",sheep:"sheep",deer:"deer",...t.explictPluralizations?t.explictPluralizations:{}};if(Object.keys(r).includes(e))return r[e];const n=(t.rules||t.additionalRules?s.concat(...t.additionalRules):s).filter((t=>t[o.regex].test(e)&&!(t[o.exceptions]||[]).includes(e)));if(n.length>0){const[t,r,s]=n[0];return r(e,t,s||[])}return`${e}s`},exports.randomString=r,exports.serialize=function(e){return e.map((e=>JSON.stringify(e))).join("\n")},exports.set=function(e,t,r,n=!0){if(!t)throw new Error("Attempt to set value into a dotPath but the dotPath was empty!");const s=t.split(/\??\./),o=s.slice(0,s.length-1),i=s.pop();let a=e;o.forEach((e=>{if(a[e]){if("object"!=typeof a[e])throw new Error(`Failed to set the path of "${t}" of the passed in base object because the base object had a scalar value along that path and setting this would have changed the object's data structure in way which is not allowed! The scalar value was found in the "${e}" component of the path.`)}else{if(!n)throw new Error(`The dotPath -- ${t} -- does not exist in the passed in object. You must either expressly state that you want the object structure created or this a real error that must be addressed otherwise. The part of the path which this failed on was "${e}".`);a[e]={}}a=a[e]})),a[i]=r},exports.snakerize=function(e,t=!1){const[r,n,s,o]=/^(\s*)(.*?)(\s*)$/.exec(e);return(t?n:"")+(e=>e.startsWith("_")?e.slice(1):e)((e=>e.replace(/([A-Z])/gs,"_$1"))((e=>e.replace(/-/gs,"_"))((e=>e.replace(/\s+/gs,"_"))(s)))).toLowerCase()+(t?o:"")},exports.strikethrough=function(e=""){return`[9m${e}[0m`},exports.toBase64=function(e){return Buffer.from(e,"utf-8").toString("base64")},exports.underline=function(e=""){return`[4m${e}[0m`},exports.unique=function(e,t){return Array.from(new Set(e.map((e=>e[t]))))},exports.uuid=n;
